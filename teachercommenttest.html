<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>コメント表示</title>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
<style>
  body { position: relative; overflow: hidden; }
  .comment {
    position: absolute;
    white-space: nowrap;
    font-size: 20px;
    animation: move 10s linear;
  }
  @keyframes move {
    from { right: -100%; }
    to { right: 100%; }
  }
</style>
</head>
<body>

<script>
  // Firebaseの設定
  var firebaseConfig = {
     apiKey: "AIzaSyAH3WRPedxRV7fd7JGs1L6NzCgJuyktSnM",
    authDomain: "commentformstest.firebaseapp.com",
    databaseURL: "https://commentformstest-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "commentformstest",
    storageBucket: "commentformstest.appspot.com",
    messagingSenderId: "999480678615",
    appId: "1:999480678615:web:34b5a758b7401a72827892"
  };
  // Firebaseを初期化
  firebase.initializeApp(firebaseConfig);
  var database = firebase.database();

  // コメントを表示
  database.ref('comments').on('child_added', function(snapshot) {
    var commentData = snapshot.val();
    var commentText = document.createElement('div');
    commentText.className = 'comment';
    commentText.style.color = commentData.color;
    commentText.style.top = Math.random() * window.innerHeight + 'px';
    commentText.textContent = commentData.comment;
    document.body.appendChild(commentText);
    // コメントを流すアニメーション
    commentText.addEventListener('animationend', function() {
      commentText.remove();
    });
  });
</script>

</body>
</html>
